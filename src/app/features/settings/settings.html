<zoo-main-container>
  <div class="settings-container">
    <!-- Sección de Apariencia -->
    <div class="settings-section">
      <h2 class="section-title">Apariencia</h2>
      <div class="setting-item">
        <div class="setting-info">
          <h3>Modo Oscuro</h3>
          <p>Cambia entre tema claro y oscuro</p>
        </div>
        <p-toggleswitch
          [(ngModel)]="darkMode"
          (ngModelChange)="onThemeChange($event)"
        />
      </div>
    </div>

    <!-- Sección de Seguridad -->
    <div class="settings-section">
      <h2 class="section-title">Seguridad</h2>
      <div class="setting-item">
        <div class="setting-info">
          <h3>Autenticación de Dos Factores (2FA)</h3>
          <p>Agrega una capa extra de seguridad a tu cuenta</p>
        </div>
        <p-toggleswitch
          [(ngModel)]="is2FAEnabled"
          (ngModelChange)="on2FAToggle($event)"
        />
      </div>
    </div>

    <!-- Sección de Notificaciones -->
    <div class="settings-section">
      <h2 class="section-title">Notificaciones</h2>
      
      <div class="setting-item">
        <div class="setting-info">
          <h3>Notificaciones Push</h3>
          <p>Recibe notificaciones en tiempo real en tu navegador</p>
        </div>
        <p-toggleswitch
          [(ngModel)]="notificationSettings().pushEnabled"
          (ngModelChange)="updateNotificationSetting('pushEnabled', $event)"
        />
      </div>

      <div class="setting-item">
        <div class="setting-info">
          <h3>Notificaciones por Correo</h3>
          <p>Recibe actualizaciones importantes en tu email</p>
        </div>
        <p-toggleswitch
          [(ngModel)]="notificationSettings().emailEnabled"
          (ngModelChange)="updateNotificationSetting('emailEnabled', $event)"
        />
      </div>

      <div class="setting-item">
        <div class="setting-info">
          <h3>Notificaciones por Telegram</h3>
          <p>Recibe alertas directamente en Telegram</p>
        </div>
        <p-toggleswitch
          [(ngModel)]="notificationSettings().telegramEnabled"
          (ngModelChange)="updateNotificationSetting('telegramEnabled', $event)"
        />
      </div>

      <div class="setting-item">
        <div class="setting-info">
          <h3>Notificaciones por WhatsApp</h3>
          <p>Recibe mensajes importantes en WhatsApp</p>
        </div>
        <p-toggleswitch
          [(ngModel)]="notificationSettings().whatsappEnabled"
          (ngModelChange)="updateNotificationSetting('whatsappEnabled', $event)"
        />
      </div>
    </div>

    <!-- Sección de Preferencias de Notificación -->
    <div class="settings-section">
      <h2 class="section-title">Preferencias de Notificación</h2>
      
      <div class="setting-item">
        <div class="setting-info">
          <h3>Nuevos Eventos</h3>
          <p>Recibe notificaciones sobre nuevos eventos del zoológico</p>
        </div>
        <p-toggleswitch
          [(ngModel)]="notificationPreferences().newEvents"
          (ngModelChange)="updateNotificationPreference('newEvents', $event)"
        />
      </div>

      <div class="setting-item">
        <div class="setting-info">
          <h3>Actualizaciones de Animales</h3>
          <p>Notificaciones sobre nuevos animales o actualizaciones</p>
        </div>
        <p-toggleswitch
          [(ngModel)]="notificationPreferences().animalUpdates"
          (ngModelChange)="updateNotificationPreference('animalUpdates', $event)"
        />
      </div>

      <div class="setting-item">
        <div class="setting-info">
          <h3>Quizzes y Encuestas</h3>
          <p>Avisos sobre nuevos quizzes y encuestas disponibles</p>
        </div>
        <p-toggleswitch
          [(ngModel)]="notificationPreferences().quizSurveys"
          (ngModelChange)="updateNotificationPreference('quizSurveys', $event)"
        />
      </div>

      <div class="setting-item">
        <div class="setting-info">
          <h3>Noticias del Zoo</h3>
          <p>Mantente informado sobre las últimas noticias</p>
        </div>
        <p-toggleswitch
          [(ngModel)]="notificationPreferences().zooNews"
          (ngModelChange)="updateNotificationPreference('zooNews', $event)"
        />
      </div>
    </div>
  </div>

  @if (showEnable2FA()) {
    <app-enable-2fa-dialog
      (confirmed)="on2FAEnabled()"
      (cancelled)="onEnable2FACancelled()"
    />
  }

  @if (showDisable2FA()) {
    <app-disable-2fa-dialog
      (confirmed)="on2FADisabled()"
      (cancelled)="onDisable2FACancelled()"
    />
  }
</zoo-main-container>
