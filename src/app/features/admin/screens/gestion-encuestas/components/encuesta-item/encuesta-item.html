@if (encuesta(); as enc) {
<p-card class="encuesta-card">
  <div class="encuesta-content">
    <div class="encuesta-info">
      <div class="encuesta-header">
        <h3 class="encuesta-titulo">{{enc.titulo}}</h3>
        <p-tag 
          [value]="estadoEncuesta().texto" 
          [severity]="estadoEncuesta().severity"
        />
      </div>
      <p class="descripcion-texto">{{enc.descripcion}}</p>
      
      <div class="fecha-info">
        <div class="fecha-rango">
          <i class="pi pi-calendar"></i>
          <span>{{enc.fechaInicio | date:'d MMM'}} - {{enc.fechaFin | date:'d MMM, y'}}</span>
        </div>
        @if (diasRestantes() > 0 && estadoEncuesta().severity === 'success') {
          <div class="dias-restantes">
            <i class="pi pi-clock"></i>
            <span>{{diasRestantes()}}d</span>
          </div>
        }
      </div>
    </div>

    <div class="encuesta-actions">
      <p-button 
        icon="pi pi-pencil"
        [rounded]="true"
        severity="info"
        [outlined]="true"
        pTooltip="Editar encuesta"
        tooltipPosition="top"
        (onClick)="onEdit.emit(enc)"
      />
      <p-button 
        icon="pi pi-chart-line"
        [rounded]="true"
        severity="secondary"
        [outlined]="true"
        pTooltip="Ver estadÃ­sticas"
        tooltipPosition="top"
        (onClick)="onView.emit(enc)"
      />
      <p-button
        icon="pi pi-trash"
        [rounded]="true"
        severity="danger"
        [outlined]="true"
        pTooltip="Eliminar encuesta"
        tooltipPosition="top"
        (onClick)="onDelete.emit(enc)"
      />
    </div>
  </div>
</p-card>
} @else {
<p-card class="encuesta-card empty-card">
  <div class="empty-state">
    <i class="pi pi-exclamation-circle empty-icon"></i>
    <p>No hay datos de encuesta disponibles</p>
  </div>
</p-card>
}