<p-card class="usuario-card">
  <ng-template #header>
    <div class="usuario-header">
      <div class="usuario-info">
        <h3>{{ usuario().username }}</h3>
        <p class="email">{{ usuario().email }}</p>
      </div>
      <div class="usuario-badges">
        <p-tag 
          [value]="usuario().rol.nombre" 
          [severity]="getSeverityForRole(usuario().rol.id)"
        />
        <p-tag 
          [value]="usuario().activo ? 'Activo' : 'Inactivo'" 
          [severity]="getSeverityForStatus(usuario().activo)"
        />
      </div>
    </div>
  </ng-template>

  <div class="usuario-content">
    <div class="usuario-details">
      <p><strong>ID:</strong> {{ usuario().id }}</p>
      <p><strong>Creado:</strong> {{ usuario().creadoEn | date:'short' }}</p>
      @if(usuario().fotoUrl) {
        <p><strong>Foto:</strong> Disponible</p>
      }
    </div>

    <div class="usuario-actions">
      <p-button
        icon="pi pi-pencil"
        [rounded]="true"
        severity="info"
        [outlined]="true"
        pTooltip="Editar usuario"
        (onClick)="editUser()"
      />
      <p-button
        [icon]="usuario().activo ? 'pi pi-eye-slash' : 'pi pi-eye'"
        [rounded]="true"
        [severity]="getButtonSeverity(usuario().activo)"
        [outlined]="true"
        [pTooltip]="usuario().activo ? 'Desactivar usuario' : 'Activar usuario'"
        (onClick)="toggleUserStatus()"
      />
      <p-button
        icon="pi pi-trash"
        [rounded]="true"
        severity="danger"
        [outlined]="true"
        pTooltip="Eliminar usuario"
        (onClick)="deleteUser()"
      />
    </div>
  </div>
</p-card>
